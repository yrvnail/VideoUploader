/*!
* OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/ui/fl/initial/_internal/changeHandlers/ChangeHandlerStorage","sap/ui/fl/registry/ChangeRegistry","sap/ui/fl/changeHandler/AddXML","sap/ui/fl/changeHandler/AddXMLAtExtensionPoint","sap/ui/fl/changeHandler/HideControl","sap/ui/fl/changeHandler/MoveControls","sap/ui/fl/changeHandler/MoveElements","sap/ui/fl/changeHandler/PropertyBindingChange","sap/ui/fl/changeHandler/PropertyChange","sap/ui/fl/changeHandler/StashControl","sap/ui/fl/changeHandler/UnhideControl","sap/ui/fl/changeHandler/UnstashControl"],function(C,a,A,b,H,M,c,P,d,S,U,e){"use strict";var D={hideControl:H,moveElements:c,moveControls:M,stashControl:S,unhideControl:U,unstashControl:e};var m={addXML:A,addXMLAtExtensionPoint:b,propertyBindingChange:P,propertyChange:d};var f={getChangeHandlersOfLoadedLibsAndRegisterOnNewLoadedLibs:function(){var o=sap.ui.getCore();var g=o.getLoadedLibraries();var p=[];Object.values(g).forEach(function(l){if(l.extensions&&l.extensions.flChangeHandlers){p.push(this._registerFlexChangeHandlers(l.extensions.flChangeHandlers));}}.bind(this));o.attachLibraryChanged(this._handleLibraryRegistrationAfterFlexLibraryIsLoaded.bind(this));return Promise.all(p);},_registerFlexChangeHandlers:function(F){if(F){return C.registerChangeHandlersForLibrary(F);}return Promise.resolve();},_handleLibraryRegistrationAfterFlexLibraryIsLoaded:function(l){if(l.getParameter("operation")==="add"){var L=l.getParameter("metadata");var o=L.sName;if(L&&L.extensions&&L.extensions.flChangeHandlers){var F=L.extensions.flChangeHandlers;var r=this._registerFlexChangeHandlers(F);a.addRegistrationPromise(o,r);return r;}}return Promise.resolve();},registerPredefinedChangeHandlers:function(){a.getInstance().registerPredefinedChangeHandlers(D,m);C.registerPredefinedChangeHandlers(D,m);}};return f;});
