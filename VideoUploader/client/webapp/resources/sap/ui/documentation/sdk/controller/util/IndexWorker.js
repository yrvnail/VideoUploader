/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(){"use strict";fetch("../../../../../../../documentation-config.js").then(function(r){if(r.ok){importScripts(r.url);var R={getResourceOriginPath:function(P){var C=self['sap-ui-documentation-config'],i=(C&&C.demoKitResourceOrigin)||'.';return i+this._formatPath(P);},_formatPath:function(P){P=P.replace(/^\.\//,'/');if(!P.match(/^\//)){P="/"+P;}return P;}};U.SEARCH_INDEX=R.getResourceOriginPath("../../../../../../../searchindex.json");}});var U={SEARCH_INDEX:"../../../../../../../searchindex.json",SEARCH_LIB:"../../thirdparty/elasticlunr.js"};var A={"properties":"controlProperties","fields":"properties","aggregations":"aggregations","associations":"associations","events":"events","specialSettings":"specialsettings","annotations":"annotations","methods":"methods"},a={"properties":"property","fields":"field","aggregations":"aggregation","associations":"association","events":"event","specialSettings":"specialsetting","annotations":"annotation","methods":"method"},D={"documentation":"topics","samples":"entity","apiref":"apiref"};importScripts(U.SEARCH_LIB);var W={COMMANDS:{INIT:"fetch",SEARCH:"search"},RESPONSE_FIELDS:{DONE:"bDone",SEARCH_RESULT:"oSearchResult"}},M=["properties","aggregations","associations","events","methods","specialSettings","annotations"],I=M.concat(["title","contents","paramTypes"]),b=["get","set","add","insert","remove","removeAll","destroy","indexOf","attach","detach"],c=new RegExp("[a-zA-Z]+"),O=" ",o={};self.addEventListener('message',function(E){var i=E.data,C=i&&i.cmd;if(C===W.COMMANDS.INIT){f().then(function(){var r={};r[W.RESPONSE_FIELDS.DONE]=true;self.postMessage(r);});}else if(C===W.COMMANDS.SEARCH){s(E.data.query,E.data.options).then(function(n){var r={};r[W.RESPONSE_FIELDS.SEARCH_RESULT]=n;self.postMessage(r);});}},false);function f(){return new Promise(function(r,i){var n=o["index"],q;if(n){r(n);return;}var t=new XMLHttpRequest(),u=function(E){if(E.target.response===null){return self.postMessage({error:"Resource file searchindex.json not found"});}q=E.target.response;if(typeof q!=='object'){q=JSON.parse(q);}q=e(q);d();n=lunr.Index.load(q.lunr);o["index"]=n;o["docs"]=q.docs;r(n);};t.responseType='json';t.addEventListener("load",u,false);t.open("get",U.SEARCH_INDEX);t.send();});}function s(q,i){i||(i={});q=p(q);return new Promise(function(r,n){f().then(function(t){var u,v=new S();function w(F,x,R){var y=t.search(x,h(F));v.add(y,x,F,R);}w("title",q);M.forEach(function(F){lunr.tokenizer(q).forEach(function(x){w(F,x,true);});});w("paramTypes",q);w("contents",q);u=v.getAll();u=k(u,q,i);r({success:u.data&&!!(u.data.length),totalHits:u.data&&u.data.length,matches:u});});});}function p(q){var n;for(var i=0;i<b.length;i++){var P=b[i];if(q.indexOf(P)===0){n=q.substring(P.length);}}if(n&&c.test(n)){q+=O+n;}return q;}function d(){var i=lunr.tokenizer;var r=/[-./#_,;\(\)=><|]/g;lunr.tokenizer=function(n){return i.call(lunr,n).reduce(function(q,t){if(r.test(t)){t=t.replace(r," ");q.push.apply(q,t.toLowerCase().split(/ +/));}else{q.push(t.toLowerCase());}return q;},[]);};Object.keys(i).forEach(function(n){lunr.tokenizer[n]=i[n];});}function e(n){function q(F){var i=n.lunr.index[F].tfValues;i[0]=NaN;n.lunr.index[F].tfValues=undefined;function u(C){var x=[];C.split(",").forEach(function(y){var P=y.split(":"),K=parseInt(P[0]),z=P[1];while(z.length>0){x.push(z.slice(0,K));z=z.slice(K);}});return x;}function v(N){var x=N.docs,C=0;if(x===undefined){N.docs={};}else{Object.keys(x).forEach(function(y){if(typeof x[y]==='number'){x[y]={tf:i[x[y]]};}if(y.indexOf(':')>=0){var z=u(y);z.forEach(function(B){x[B]=x[y];C++;});x[y]=undefined;}else{C++;}});}if(N.df===undefined){N.df=C;}}function w(N){v(N);Object.keys(N).forEach(function(K){if(K!=='docs'&&K!=='df'){var V=N[K];var L=K.length;if(L>1){while(--L>0){var T={};T[K.charAt(L)]=V;V=T;}N[K.charAt(0)]=V;N[K]=undefined;}w(V);}});}w(n.lunr.index[F].root);}function t(N,P){for(var i in N){P.apply(N,[i,N[i]]);if(N[i]!==null&&typeof(N[i])=="object"){t(N[i],P);}}}function r(K,v){if(v===undefined){delete this[K];}}I.forEach(function(F){q(F);});t(n,r);return n;}var S=function(){var i=o["docs"];if(!i){throw new Error("docs are required");}this._oDocs=i;this._oCollectedResults={};};S.prototype.add=function(r,q,i,R){r.forEach(function(n){this._mergeResultWithDocInfo(n,q,i,R);this._oCollectedResults[this._getResultId(n)]=n;}.bind(this));return this;};S.prototype.getAll=function(){return j(this._oCollectedResults);};S.prototype._mergeResultWithDocInfo=function(r,q,i,R){var n=this._oDocs[r.ref];r.doc=n;r.matchedDocField=i;if(R){r.matchedDocWord=g(n[i],q);}};S.prototype._getResultId=function(r){var i=r.ref,n=r.matchedDocWord||"";return i+"/"+n;};function g(w,t){if(w){var i=function(r){return r.toLowerCase().indexOf(t.toLowerCase())===0;};var n=w.split(" ");var q=n.filter(i);if(q.length){return q[0];}}return null;}function h(F){var C={fields:{},expand:true};C.fields[F]={};return C;}function j(i){var K=Object.keys(i),v=[];K.forEach(function(n){v.push(i[n]);});return v;}function k(n,q,r){var N,t=0,u=[],v=[],w=[],x=[],F=[],y=0,z=0,B=0,E=0,P=r.sPreferencedCategory,C=r.includeDeprecated;if(n){for(var i=0;i<n.length;i++){var G=n[i],H=G.doc;H.modifiedStr=H.modified+"";var J=H.modifiedStr.substring(0,4)+"/"+H.modifiedStr.substring(4,6)+"/"+H.modifiedStr.substring(6,8)+", "+H.modifiedStr.substring(8,10)+":"+H.modifiedStr.substring(10),T=H.title,K=H.summary,L=H.path,Q=false,R,V,X;if(H.category===D.documentation){L=L.substring(0,L.lastIndexOf(".html"));Q=true;R="Documentation";V={title:T?T:"Untitled",path:L,summary:K||"",score:H.score,modified:J,category:R};w.push(V);B++;}else if(H.category===D.samples){Q=true;if(H.deprecated&&!C){continue;}R="Samples";X=H.deprecated?"deprecated ":"";V={title:T?T+" ("+X+"samples)":"Untitled",path:L,summary:K||"",score:H.score,modified:J,category:R};x.push(V);E++;}else if(H.category===D.apiref){L=_(G);T=l(G);K=m(G);Q=true;if(!C&&H.deprecated){continue;}R="API Reference";V={title:T,path:L,summary:K||"",score:H.score,modified:J,category:R};v.push(V);z++;}if(Q){u.push(V);y++;if((F.length<10)&&(H.category===P)){F.push(V);}}}}while((F.length<10)&&(t<u.length)){N=u[t++];if(F.indexOf(N)===-1){F.push(N);}}return{data:u,aDataAPI:v,aDataDoc:w,aDataExplored:x,filteredData:F,AllLength:y,APILength:z,DocLength:B,ExploredLength:E};}function _(i){var E=i.matchedDocField,n=i.doc.title,q=A[E],u;u="api/"+n;if(q){u+="#"+q;}if(E==="methods"){u+="/"+i.matchedDocWord;}return u;}function l(i){var n=i.doc,K=n.kind.toLowerCase(),q=a[i.matchedDocField],r=i.matchedDocWord;if(q&&r){return r+" ("+q+")";}if(K){var F=n.deprecated?("deprecated "+K):K;return n.title+" ("+F+")";}return n.title;}function m(i){var n=i.doc,q=a[i.matchedDocField],r=i.matchedDocWord,t=q&&r;if(t){return n.title;}return n.summary;}})();
