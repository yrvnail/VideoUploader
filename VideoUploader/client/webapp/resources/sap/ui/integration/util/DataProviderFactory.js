/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/integration/util/ServiceDataProvider","sap/ui/integration/util/RequestDataProvider","sap/ui/integration/util/DataProvider","sap/ui/integration/util/ExtensionDataProvider","sap/ui/integration/util/JSONBindingHelper","sap/ui/integration/util/BindingHelper"],function(B,S,R,D,E,J,a){"use strict";var b=B.extend("sap.ui.integration.util.DataProviderFactory",{constructor:function(d,e,c){B.call(this);this._oDestinations=d;this._oExtension=e;this._oCard=c;this._aDataProviders=[];this._aFiltersProviders=[];}});b.prototype.destroy=function(){B.prototype.destroy.apply(this,arguments);if(this._aDataProviders){this._aDataProviders.forEach(function(d){if(!d.bIsDestroyed){d.destroy();}});this._aDataProviders=null;this._aFiltersProviders=null;}this._oCard=null;this._oExtension=null;this._bIsDestroyed=true;};b.prototype.isDestroyed=function(){return this._bIsDestroyed;};b.prototype.create=function(d,s,i){var c=this._oCard,C,o;if(!d){return null;}C={"card":c,"settingsJson":J.createJsonWithBindingInfos(d,c.getBindingNamespaces())};if(d.request){o=new R(C);}else if(d.service){o=new S(C);}else if(d.json){o=new D(C);}else if(d.extension){o=new E(C,this._oExtension);}else{return null;}a.propagateModels(c,o);o.bindObject("/");o.setDestinations(this._oDestinations);if(o.isA("sap.ui.integration.util.IServiceDataProvider")){o.createServiceInstances(s);}this._aDataProviders.push(o);if(i){this._aFiltersProviders.push(o);}else{o.setDependencies(this._aFiltersProviders);}return o;};b.prototype.remove=function(d){var p=this._aDataProviders.indexOf(d);if(p>-1){this._aDataProviders.splice(p,1);}if(d&&!d.bDestroyed&&d._bIsDestroyed){d.destroy();}};return b;});
