/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseFactory","./CardActions","sap/ui/integration/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/base/strings/formatMessage"],function(B,C,l,N,H,f){"use strict";var A=l.CardActionArea;function b(F,h){if(F.parts&&F.translationKey&&F.parts.length===2){var o={parts:[F.translationKey,F.parts[0].toString(),F.parts[1].toString()],formatter:function(t,p,P){var s=p||F.parts[0];var c=P||F.parts[1];if(Array.isArray(p)){s=p.length;}if(Array.isArray(P)){c=P.length;}var i=parseFloat(s)||0;var d=parseFloat(c)||0;return f(t,[i,d]);}};h.bindProperty("statusText",o);}}var a=B.extend("sap.ui.integration.util.HeaderFactory");a.prototype.create=function(c,t){var h,o=this._oCard,d=new C({card:o});c=this.createBindingInfos(c,o.getBindingNamespaces());switch(c.type){case"Numeric":h=new N(c,t);break;default:h=new H(c,t,o._oIconFormatter);break;}h.setCard(o);if(c.status&&c.status.text&&c.status.text.format){if(c.status.text.format.translationKey){o._loadDefaultTranslations();}b(c.status.text.format,h);}h.setServiceManager(o._oServiceManager);h.setDataProviderFactory(o._oDataProviderFactory);h._setDataConfiguration(c.data);d.attach({area:A.Header,actions:c.actions,control:h});h._oActions=d;if(h._bIsEmpty){h.setVisible(t.getVisible());}return h;};return a;});
