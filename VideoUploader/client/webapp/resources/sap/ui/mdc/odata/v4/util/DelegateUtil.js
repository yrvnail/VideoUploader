/*
 * ! OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/mdc/util/FilterUtil',"sap/ui/mdc/condition/ConditionConverter",'sap/base/Log','sap/base/util/merge',"sap/ui/model/odata/v4/ODataUtils"],function(F,C,L,m,O){"use strict";var D={_getParameters:function(M){var p=null;if(M&&M.getDelegate()&&M.getDelegate().payload&&M.getDelegate().payload.collectionName){var e=M.getDelegate().payload.collectionName;if(window[M.getId()+'->'+e+"-Parameters"]){p=window[M.getId()+'->'+e+"-Parameters"];}}return p;},_getParameterPath:function(M,c,p){var i,f,I={},o;var P,e;if(!p||(p.parameters.length<=0)){return null;}var a=M.getPropertyInfoSet?M.getPropertyInfoSet():null;if(!a){return null;}var E=M.getDelegate().payload.collectionName;for(f in c){var b=F.getPropertyByKey(a,f);if(b&&(p.parameters.indexOf(f)>=0)){I[f]=[];for(i=0;i<c[f].length;i++){o=m({},c[f][i]);I[f].push(C.toType(o,b.typeConfig,M.getTypeUtil()));}}else if(!b){L.error("no such property: "+f);}}P=[];for(i=0;i<p.parameters.length;i++){f=p.parameters[i];if(I[f]&&(I[f].length>0)){e=p.parameterTypes[f];P.push(f+'='+encodeURIComponent(O.formatLiteral(I[f][0].values[0],e)));}else{L.error("no value found parameter '"+f+"'");}}return'/'+E+'('+P.toString()+")/"+p.parameterNavigationName;},getParametersInfo:function(M,c){var p=D._getParameters(M);return D._getParameterPath(M,c,p);},getParameterNames:function(M){var p=null,P=D._getParameters(M);if(P){p=P.parameters;}return p;}};return D;},true);
