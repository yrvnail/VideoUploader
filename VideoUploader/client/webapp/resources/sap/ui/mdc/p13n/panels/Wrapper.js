/*
 * ! OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/ui/Container","sap/m/Bar","sap/m/Button","sap/m/List","sap/m/IconTabBar","sap/m/IconTabFilter","sap/ui/mdc/ui/ContainerItem","sap/ui/Device","sap/m/library","sap/m/StandardListItem"],function(C,B,a,L,I,b,c,D,l,S){"use strict";var d=l.ButtonType;var e=l.ListType;var W=C.extend("sap.ui.mdc.p13n.panels.Wrapper",{metadata:{library:"sap.ui.mdc",properties:{listLayout:{type:"Boolean",defaultValue:false}}},renderer:{}});W.prototype.DEFAULT_KEY="$default";W.prototype.init=function(){C.prototype.init.apply(this,arguments);this.addStyleClass("sapUiMDCP13nWrapper");this.setListLayout(D.system.phone);};W.prototype.setListLayout=function(f){this.setProperty("listLayout",f);this._getTabBar().removeAllItems();this._getNavigationList().removeAllItems();var h=[];if(f){this._getTabBar().setVisible(false);this._getNavigationList();this.switchView(this.DEFAULT_KEY);h.push(this._getNavBackBtn());}else{this._getTabBar().setVisible(true);var v=this.getViews();if(v.length>1){this.switchView(v[1].getKey());}h.push(this._getTabBar());}var o=new B({contentLeft:h});this.setHeader(o);this.getViewMap().forEach(function(V){this._addToNavigator(V.key);}.bind(this));return this;};W.prototype._getTabBar=function(){if(!this._oTabBar){this._oTabBar=new I({expandable:false,expanded:true,select:function(E){this.switchView(E.getParameter("key"));}.bind(this)});this.addDependent(this._oTabBar);}return this._oTabBar;};W.prototype._getNavigationList=function(){if(!this._oNavigationList){this._oNavigationList=new L({itemPress:function(E){var i=E.getParameter("listItem");var k=i.getTitle();this.switchView(k);}.bind(this)}).addStyleClass("wrapperDefaultList");this.addDependent(this._oNavigationList);}if(!this.getView(this.DEFAULT_KEY)){var o=new c({key:this.DEFAULT_KEY,content:this._oNavigationList});this.addView(o);}return this._oNavigationList;};W.prototype._getNavBackBtn=function(){if(!this._oNavBackBtn){this._oNavBackBtn=new a({type:d.Back,press:function(E){this.switchView(this.DEFAULT_KEY);}.bind(this)});this.addDependent(this._oNavBackBtn);}return this._oNavBackBtn;};W.prototype.addPanel=function(p,k){var o=new c({key:k,content:p});this._addToNavigator(k);this.addView(o);};W.prototype.switchView=function(k){C.prototype.switchView.apply(this,arguments);this.oLayout.setShowHeader(k!==this.DEFAULT_KEY);this._getNavBackBtn().setVisible(k!==this.DEFAULT_KEY);this._getNavBackBtn().setText(k);};W.prototype._addToNavigator=function(k){if(k==this.DEFAULT_KEY){return;}if(this.getListLayout()){this.getView(this.DEFAULT_KEY);this._getNavigationList().addItem(new S({type:e.Navigation,title:k}));}else{this._getTabBar().addItem(new b({key:k,text:k}));}};W.prototype.exit=function(){C.prototype.exit.apply(this,arguments);this._oTabBar=null;this._oNavigationList=null;this._oNavBackBtn=null;};return W;});
