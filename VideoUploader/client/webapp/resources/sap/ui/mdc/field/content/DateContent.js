/*
 * ! OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/field/content/DefaultContent","sap/ui/mdc/enum/BaseType","sap/ui/mdc/util/DateUtil","sap/ui/core/library"],function(D,B,a,c){"use strict";var C=c.CalendarType;var b=Object.assign({},D,{getEditMultiLine:function(){return[null];},getEditOperator:function(){return{"EQ":{name:"sap/m/DatePicker",create:this._createDatePickerControl},"BT":{name:"sap/m/DateRangeSelection",create:this._createDateRangePickerControl}};},getUseDefaultFieldHelp:function(){return{name:"defineConditions",oneOperatorSingle:false,oneOperatorMulti:true};},createEditMultiLine:function(){throw new Error("sap.ui.mdc.field.content.DateContent - createEditMultiLine not defined!");},_createDatePickerControl:function(o,d,i){var e=d[0];var f=o.getConditionsType();o.setHideOperator(true);this._adjustDataTypeForDate(o);var g=new e(i,{value:{path:"$field>/conditions",type:f},displayFormat:o.getDisplayFormat(),valueFormat:o.getValueFormat(),placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",width:"100%",tooltip:"{$field>/tooltip}",change:o.getHandleContentChange()});if(g.setDisplayFormatType){g.setDisplayFormatType(o.getCalendarType());}g._setPreferUserInteraction(true);o.setAriaLabelledBy(g);o.setBoundProperty("value");return[g];},_createDateRangePickerControl:function(o,d,i){var e=d[0];var f=o.getConditionsType();this._adjustDataTypeForDate(o);var g=new e(i,{value:{path:"$field>/conditions",type:f},displayFormat:o.getDisplayFormat(),valueFormat:o.getValueFormat(),delimiter:"...",displayFormatType:o.getCalendarType(),placeholder:"{$field>/placeholder}",textAlign:"{$field>/textAlign}",textDirection:"{$field>/textDirection}",required:"{$field>/required}",editable:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEditable},enabled:{path:"$field>/editMode",formatter:o.getMetadata()._oClass._getEnabled},valueState:"{$field>/valueState}",valueStateText:"{$field>/valueStateText}",width:"100%",tooltip:"{$field>/tooltip}",change:o.getHandleContentChange()});g._setPreferUserInteraction(true);o.setAriaLabelledBy(g);o.setBoundProperty("value");return[g];},_adjustDataTypeForDate:function(o){var t=o.retrieveDataType();var f=t.getFormatOptions();this._getDatePattern(o,f);if(!f||f.style||!f.pattern||f.pattern!==o.getValueFormat()||!f.calendarType||f.calendarType!==C.Gregorian){o.setDateOriginalType(o.getDataType());o.setDataType(a.createInternalType(t,o.getValueFormat()));o.updateConditionType();}},_getDatePattern:function(o,f){var s=o.getField().getBaseType();switch(s){case B.Date:o.setValueFormat("yyyy-MM-dd");break;case B.DateTime:o.setValueFormat("yyyy-MM-dd'T'HH:mm:ss");break;case B.Time:o.setValueFormat("HH:mm:ss");break;default:return;}o.setDisplayFormat("medium");if(f){if(f.style){o.setDisplayFormat(f.style);}else if(f.pattern){o.setDisplayFormat(f.pattern);}if(f.calendarType){o.setCalendarType(f.calendarType);}}}});return b;});
