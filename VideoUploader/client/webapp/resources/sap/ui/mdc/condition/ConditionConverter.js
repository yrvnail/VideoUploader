/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/mdc/condition/Condition','sap/ui/mdc/enum/BaseType','sap/ui/mdc/enum/ConditionValidated','sap/ui/mdc/util/DateUtil','sap/ui/mdc/condition/FilterOperatorUtil','sap/ui/mdc/condition/Operator','sap/base/util/merge'],function(C,B,a,D,F,O,m){"use strict";var d="yyyy-MM-ddTHH:mm:ssZ";var s="yyyy-MM-dd";var t="HH:mm:ss";var b={toString:function(o,T,h){var i=F.getOperator(o.operator);var v=c(o.values,_(o,h,T,i)||T,i);var I;var j;if(o.inParameters){I=m({},o.inParameters);}if(o.outParameters){j=m({},o.outParameters);}var r=C.createCondition(o.operator,v,I,j,o.validated);return r;},toType:function(o,T,h){var i=F.getOperator(o.operator);var v=f(o.values,_(o,h,T,i)||T);var I;var j;if(o.inParameters){I=m({},o.inParameters);}if(o.outParameters){j=m({},o.outParameters);}var r=C.createCondition(o.operator,v,I,j,o.validated);if(r.validated!==a.Validated&&i.validateInput){i.checkValidated(r);}return r;}};function _(o,T,h,i){if(i&&i.valueTypes[0]&&(i.valueTypes[0]!==O.ValueType.Self&&i.valueTypes[0]!==O.ValueType.Static)){return T.getTypeConfig(i._createLocalType(i.valueTypes[0],h&&h.typeInstance));}}function c(v,T,o){var r=[];for(var i=0;i<v.length;i++){if(!o||(o.valueTypes[i]&&o.valueTypes[i]!==O.ValueType.Static)){var V=v[i];r.push(e(V,T));}}return r;}function e(v,T){var h=T.baseType;var o=T.typeInstance;switch(h){case B.DateTime:return D.typeToString(v,o,d);case B.Date:return D.typeToString(v,o,s);case B.Time:return D.typeToString(v,o,t);case B.Boolean:return v;case B.Numeric:if(typeof v!=="string"&&(o.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||o.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return v.toString();}return v;default:return o.formatValue(v,"string");}}function f(v,T){var r=[];for(var i=0;i<v.length;i++){var V=v[i];r.push(g(V,T));}return r;}function g(v,T){var h=T.baseType;var o=T.typeInstance;switch(h){case B.DateTime:return D.stringToType(v,o,d);case B.Date:return D.stringToType(v,o,s);case B.Time:return D.stringToType(v,o,t);case B.Boolean:return v;case B.Numeric:if(typeof v!=="string"&&(o.getMetadata().getName()==="sap.ui.model.odata.type.Int64"||o.getMetadata().getName()==="sap.ui.model.odata.type.Decimal")){return v.toString();}return v;default:return o.parseValue(v,"string");}}return b;},true);
